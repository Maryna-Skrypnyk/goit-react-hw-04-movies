(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{122:function(t,e,r){t.exports={SearchForm:"Searchbar_SearchForm__10JQA",SearchFormButton:"Searchbar_SearchFormButton__2Foje",SearchFormInput:"Searchbar_SearchFormInput__3ObGx"}},137:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return S}));var n=r(83),a=r(65),c=r.n(a),o=r(80),u=r(66),s=r(64),i=r(1),l=r(62),p=r(4),f=r(95),v=r(122),b=r.n(v),h=r(2),j=function(t){var e=t.handleSubmit,r=Object(i.useState)(""),n=Object(s.a)(r,2),a=n[0],c=n[1];return Object(h.jsxs)("form",{className:b.a.SearchForm,onSubmit:function(t){if(t.preventDefault(),""===a.trim())return f.c.warn("Enter the movie title",{position:"top-left",transition:f.b,style:{top:90,left:0,textAlign:"center",width:200,margin:"0 auto"}});e(a),c("")},children:[Object(h.jsx)("input",{className:b.a.SearchFormInput,type:"text",value:a,onChange:function(t){var e=t.target.value;c(e.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),Object(h.jsx)("button",{className:b.a.SearchFormButton,type:"submit","aria-label":"Search movies",children:"Search"})]})},m=r(81),d=r(82),O=r(16),x=r(61),g=r(75);r(123);function _(){var t=Object(p.g)(),e=Object(p.h)(),r=Object(i.useState)([]),a=Object(s.a)(r,2),v=a[0],b=a[1],_=Object(i.useState)([]),S=Object(s.a)(_,2),w=S[0],M=S[1],L=Object(i.useState)(""),y=Object(s.a)(L,2),k=y[0],F=y[1],B=Object(i.useState)(1),E=Object(s.a)(B,2),C=E[0],I=E[1],N=Object(i.useState)(!1),J=Object(s.a)(N,2),P=J[0],U=J[1],q=Object(i.useState)(null),R=Object(s.a)(q,2),T=R[0],z=R[1];Object(i.useEffect)((function(){if(""!==e.search){var t=new URLSearchParams(e.search).get("movie");F(t)}}),[e.search]),Object(i.useEffect)((function(){k&&function(){var t=Object(u.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,U(!0),t.next=4,l.a.fetchSearchMovies(k,C);case 4:e=t.sent,M(e),b((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e))})),U(!1),0===e.length&&z('There are no movies on your request "'.concat(k,'"')),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),z("Whoops, something went wrong. Enter your request again");case 14:return t.prev=14,U(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})));return function(){return t.apply(this,arguments)}}()()}),[k,C]);var A=function(){b([]),I(1),z(null),M([])};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j,{handleSubmit:function(r){F(r),A(),t.push(Object(n.a)(Object(n.a)({},e),{},{search:"movie=".concat(r)}))}}),T&&Object(h.jsx)(x.a,{errorContent:T}),P&&Object(h.jsx)(O.a,{}),v.length>0&&!T&&Object(h.jsx)(m.a,{movies:v}),w.length>19&&!P&&!T&&Object(h.jsx)(d.a,{contentBtn:"Load More",onLoadMore:function(){I((function(t){return t+1})),g.animateScroll.scrollToBottom()}}),w.length<19&&w.length>0&&!P&&!T&&Object(h.jsx)(d.a,{disabled:!0,contentBtn:"End"}),Object(h.jsx)(f.a,{autoClose:3e3})]})}function S(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(_,{})})}},61:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(63),a=r.n(n),c=r(2),o=function(t){var e=t.errorContent;return Object(c.jsx)("div",{role:"alert",className:a.a.Error,children:Object(c.jsx)("p",{text:e,className:a.a.ErrorContent,children:e})})}},62:function(t,e,r){"use strict";var n=r(65),a=r.n(n),c=r(66),o=r(71),u=r.n(o);u.a.defaults.baseURL="https://api.themoviedb.org/3",u.a.defaults.params={api_key:"d0babcf2df0d52b515db9698a0e458bb",language:"en-US"};var s={fetchSearchMovies:function(){var t=Object(c.a)(a.a.mark((function t(e,r){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/search/movie",{params:{query:e,page:r}});case 3:return n=t.sent,c=n.data,t.abrupt("return",c.results);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}(),fetchTrendingMovies:function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/trending/movie/day",{params:{page:e}});case 3:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),fetchMovieById:function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/movie/".concat(e));case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),fetchCastMovie:function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/movie/".concat(e,"/credits"));case 3:return r=t.sent,n=r.data,t.abrupt("return",n.cast);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),fetchReviewMovie:function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/movie/".concat(e,"/reviews"));case 3:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()};e.a=s},63:function(t,e,r){t.exports={Error:"Error_Error__zscxp",ErrorContent:"Error_ErrorContent__2fFjr"}},72:function(t,e,r){t.exports={MovieListItem:"MovieListItem_MovieListItem__3UxJ6",MovieLink:"MovieListItem_MovieLink__aPKO5"}},73:function(t,e,r){t.exports={MoviesList:"MoviesList_MoviesList__2Bmda"}},74:function(t,e,r){t.exports={Button:"Button_Button__z2W-M"}},81:function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));r(1);var n=r(4),a=r(11),c=r(72),o=r.n(c),u=r(2);function s(t){var e=t.id,r=t.title,c=t.original_title,s=Object(n.h)(),i=""!==r&&r?r:c;return Object(u.jsx)("li",{className:o.a.MovieListItem,children:Object(u.jsx)(a.b,{className:o.a.MovieLink,to:{pathname:"/movies/".concat(e),state:{from:s}},children:i})})}s.defaultProps={title:"",original_title:""};var i=r(73),l=r.n(i);function p(t){var e=t.movies;return Object(u.jsx)("ul",{className:l.a.MoviesList,children:e.map((function(t){var e=t.id,r=t.original_title,n=t.title;return Object(u.jsx)(s,{id:e,title:n,original_title:r},e)}))})}},82:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));r(1);var n=r(74),a=r.n(n),c=r(2),o=function(t){var e=t.onLoadMore,r=t.contentBtn,n=t.disabled;return Object(c.jsx)("button",{disabled:n,onClick:e,className:a.a.Button,children:r})};o.defaultProps={onLoadMore:function(){return null},disabled:!1};var u=o}}]);
//# sourceMappingURL=movies-view.1ef12cbe.chunk.js.map