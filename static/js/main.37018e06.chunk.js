(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{10:function(e,t,n){e.exports={MovieMainInfo:"MovieMainInfo_MovieMainInfo__2w_jI",MovieContent:"MovieMainInfo_MovieContent__hvF7o",ImageURL:"MovieMainInfo_ImageURL__1cL65",MovieScore:"MovieMainInfo_MovieScore__8dqOp",MovieTitleName:"MovieMainInfo_MovieTitleName__1S8tI",MovieOverview:"MovieMainInfo_MovieOverview__1iS1Y",MovieGenreList:"MovieMainInfo_MovieGenreList__1iZO6",MovieGenreItem:"MovieMainInfo_MovieGenreItem__3dSVF"}},18:function(e,t,n){e.exports={link:"Navigation_link__nHVx8",activeLink:"Navigation_activeLink__2NlCg Navigation_link__nHVx8"}},23:function(e,t,n){e.exports={SearchForm:"Searchbar_SearchForm__10JQA",SearchFormButton:"Searchbar_SearchFormButton__2Foje",SearchFormInput:"Searchbar_SearchFormInput__3ObGx"}},24:function(e,t,n){e.exports={MovieAddInfo:"MovieAddInfo_MovieAddInfo__2BJms",AddInfo:"MovieAddInfo_AddInfo__1xeq2",InfoList:"MovieAddInfo_InfoList__3GgBh"}},33:function(e,t,n){e.exports={Error:"Error_Error__zscxp",ErrorContent:"Error_ErrorContent__2fFjr"}},40:function(e,t,n){e.exports={container:"Container_container__3DzbV"}},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){e.exports={Button:"Button_Button__z2W-M"}},47:function(e,t,n){e.exports={LoaderSpinner:"LoaderSpinner_LoaderSpinner__14JuI"}},48:function(e,t,n){e.exports={ButtonIcon:"ButtonIcon_ButtonIcon__2C4eH"}},49:function(e,t,n){e.exports={IconBtn:"MovieDetailsPage_IconBtn__1R33v"}},88:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(14),o=n.n(a),i=n(12),s=n(3),u=n(40),l=n.n(u),j=n(1),v=function(e){var t=e.children;return Object(j.jsx)("div",{className:l.a.container,children:t})},b=function(e){var t=e.children;return Object(j.jsx)(v,{children:t})},h=n(18),f=n.n(h),d=function(){return Object(j.jsxs)("nav",{children:[Object(j.jsx)(i.c,{exact:!0,to:"/",className:f.a.link,activeClassName:f.a.activeLink,children:"Home"}),Object(j.jsx)(i.c,{to:"/movies",className:f.a.link,activeClassName:f.a.activeLink,children:"Movies"})]})},p=n(42),O=n.n(p);function x(){return Object(j.jsx)("header",{className:O.a.header,children:Object(j.jsx)(d,{})})}function m(e){var t=e.text;return Object(j.jsx)("h1",{children:t})}m.defaultProps={text:""};var _=n(6),g=n.n(_),M=n(15),S=n(11),I=n(4),w="https://api.themoviedb.org/3",N="d0babcf2df0d52b515db9698a0e458bb",k={fetchSearchMovies:function(){var e=Object(S.a)(g.a.mark((function e(t,n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(w,"/search/movie?api_key=").concat(N,"&language=en-US&page=").concat(n,"&query=").concat(t),e.prev=1,e.next=4,fetch(r).then((function(e){return e.json()})).then((function(e){return e.results}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),fetchTrendingMovies:function(){var e=Object(S.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(w,"/trending/movie/day?api_key=").concat(N,"&language=en-US&page=").concat(t),e.prev=1,e.next=4,fetch(n).then((function(e){return e.json()})).then((function(e){return e.results}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),fetchMovieById:function(){var e=Object(S.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(w,"/movie/").concat(t,"?api_key=").concat(N,"&language=en-US"),e.prev=1,e.next=4,fetch(n).then((function(e){return e.json()})).then((function(e){return console.log(e),e}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),fetchActorMovie:function(){var e=Object(S.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(w,"/movie/").concat(t,"/credits?api_key=").concat(N,"&language=en-US"),e.prev=1,e.next=4,fetch(n).then((function(e){return e.json()})).then((function(e){return e.cast}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),fetchReviewMovie:function(){var e=Object(S.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(w,"/movie/").concat(t,"/reviews?api_key=").concat(N,"&language=en-US&page=1"),e.prev=1,e.next=4,fetch(n).then((function(e){return e.json()})).then((function(e){return e.results}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},y=n(43),B=n.n(y);function L(e){var t=e.id,n=e.title,r=e.original_title,c=Object(s.g)().url,a=""!==n&&n?n:r;return Object(j.jsx)("li",{className:B.a.MovieListItem,children:Object(j.jsx)(i.b,{to:"".concat(c,"/").concat(t),children:a})})}L.defaultProps={title:"",original_title:""};var C=n(44),F=n.n(C);function E(e){var t=e.movies;return Object(j.jsx)("ul",{className:F.a.MoviesList,children:t.map((function(e){var t=e.id,n=e.title,r=e.original_title;return Object(j.jsx)(L,{id:t,title:n,original_title:r},t)}))})}var A=n(45),G=n.n(A),T=function(e){var t=e.onLoadMore,n=e.contentBtn,r=e.disabled;return Object(j.jsx)("button",{disabled:r,onClick:t,className:G.a.Button,children:n})};T.defaultProps={onLoadMore:function(){return null},disabled:!1};var U=T,q=n(46),P=n.n(q),R=(n(80),n(47)),J=n.n(R),W=function(){return Object(j.jsx)("div",{className:J.a.LoaderSpinner,children:Object(j.jsx)(P.a,{type:"Watch",color:"#00BFFF",height:100,width:100,timeout:0})})},H=n(33),V=n.n(H),z=function(e){var t=e.errorContent;return Object(j.jsx)("div",{role:"alert",className:V.a.Error,children:Object(j.jsx)("p",{text:t,className:V.a.ErrorContent,children:t})})},D=n(22);n(88);function Q(){var e=Object(r.useState)([]),t=Object(I.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),o=Object(I.a)(a,2),i=o[0],s=o[1],u=Object(r.useState)(1),l=Object(I.a)(u,2),v=l[0],b=l[1],h=Object(r.useState)(!1),f=Object(I.a)(h,2),d=f[0],p=f[1],O=Object(r.useState)(null),x=Object(I.a)(O,2),m=x[0],_=x[1];Object(r.useEffect)((function(){(function(){var e=Object(S.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,k.fetchSearchMovies(v);case 4:t=e.sent,s(t),c((function(e){return[].concat(Object(M.a)(e),Object(M.a)(t))})),p(!1),0===t.length&&_("There are no trend movies"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),_("Whoops, something went wrong. Enter your request again");case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}})()()}),[v]);return Object(j.jsxs)(j.Fragment,{children:[m&&Object(j.jsx)(z,{errorContent:m}),d&&Object(j.jsx)(W,{}),n.length>0&&!m&&Object(j.jsx)(E,{movies:n}),i.length>19&&!d&&!m&&Object(j.jsx)(U,{contentBtn:"Load More",onLoadMore:function(){b((function(e){return e+1})),D.animateScroll.scrollToBottom()}}),i.length<19&&i.length>0&&!d&&!m&&Object(j.jsx)(U,{disabled:!0,contentBtn:"End"})]})}function Y(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m,{text:"Trending today"}),Object(j.jsx)(Q,{})]})}var Z=n(17),K=n(23),X=n.n(K),$=function(e){var t=e.handleSubmit,n=Object(r.useState)(""),c=Object(I.a)(n,2),a=c[0],o=c[1];return Object(j.jsxs)("form",{className:X.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===a.trim())return Z.c.warn("Enter your request",{position:"top-left",transition:Z.b,style:{top:100,left:237,textAlign:"center",width:290,margin:"0 auto"}});t(a),o("")},children:[Object(j.jsx)("input",{className:X.a.SearchFormInput,type:"text",value:a,onChange:function(e){var t=e.target.value;o(t.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),Object(j.jsx)("button",{className:X.a.SearchFormButton,type:"submit","aria-label":"Search movies",children:"Search"})]})};n(89),n(90);function ee(){var e=Object(r.useState)([]),t=Object(I.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),o=Object(I.a)(a,2),i=o[0],s=o[1],u=Object(r.useState)(""),l=Object(I.a)(u,2),v=l[0],b=l[1],h=Object(r.useState)(1),f=Object(I.a)(h,2),d=f[0],p=f[1],O=Object(r.useState)(!1),x=Object(I.a)(O,2),m=x[0],_=x[1],w=Object(r.useState)(null),N=Object(I.a)(w,2),y=N[0],B=N[1];Object(r.useEffect)((function(){v&&function(){var e=Object(S.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,k.fetchSearchMovies(v,d);case 4:t=e.sent,s(t),c((function(e){return[].concat(Object(M.a)(e),Object(M.a)(t))})),_(!1),0===t.length&&B('There are no movies on your request "'.concat(v,'"')),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),B("Whoops, something went wrong. Enter your request again");case 14:return e.prev=14,_(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}()()}),[v,d]);var L=function(){c([]),p(1),B(null),s([])};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{handleSubmit:function(e){b(e),L()}}),y&&Object(j.jsx)(z,{errorContent:y}),m&&Object(j.jsx)(W,{}),n.length>0&&!y&&Object(j.jsx)(E,{movies:n}),i.length>19&&!m&&!y&&Object(j.jsx)(U,{contentBtn:"Load More",onLoadMore:function(){p((function(e){return e+1})),D.animateScroll.scrollToBottom()}}),i.length<19&&i.length>0&&!m&&!y&&Object(j.jsx)(U,{disabled:!0,contentBtn:"End"}),Object(j.jsx)(Z.a,{autoClose:3e3})]})}function te(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(ee,{})})}function ne(){return Object(j.jsx)("h1",{children:"404 Page is not found..."})}var re=n(10),ce=n.n(re);function ae(e){var t=e.overview,n=e.poster_path,r=e.title,c=e.original_title,a=e.release_date,o=e.genres,i=e.vote_average,s=""!==r&&r?r:c;return Object(j.jsxs)("div",{className:ce.a.MovieMainInfo,children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:n,alt:s,className:ce.a.ImageURL})}),Object(j.jsxs)("div",{className:ce.a.MovieContent,children:[Object(j.jsxs)("h2",{className:ce.a.MovieTitle,children:[s," (",a,")"]}),Object(j.jsxs)("p",{className:ce.a.MovieScore,children:["User Score: ",i,"%"]}),Object(j.jsx)("h3",{className:ce.a.MovieTitleName,children:"Overview"}),Object(j.jsx)("p",{className:ce.a.MovieOverview,children:t}),Object(j.jsx)("h3",{className:ce.a.MovieTitleName,children:"Genres"}),Object(j.jsx)("ul",{className:ce.a.MovieGenreList,children:o.map((function(e){return Object(j.jsx)("li",{className:ce.a.MovieGenreItem,children:e.name},e.id)}))})]})]})}ae.defaultProps={title:"",original_title:"",poster_path:"no poster",overview:""};var oe=n(24),ie=n.n(oe);function se(){return Object(j.jsxs)("div",{className:ie.a.MovieAddInfo,children:[Object(j.jsx)("p",{className:ie.a.AddInfo,children:"Additional Information"}),Object(j.jsxs)("ul",{className:ie.a.InfoList,children:[Object(j.jsx)("li",{children:"Cast"}),Object(j.jsx)("li",{children:"Reviews"})]})]})}var ue=n(34),le=n(51),je=n(48),ve=n.n(je),be=["type","onClick","children"],he=function(e){var t=e.type,n=e.onClick,r=e.children,c=Object(le.a)(e,be);return Object(j.jsx)("button",Object(ue.a)(Object(ue.a)({type:t,onClick:n,className:ve.a.ButtonIcon},c),{},{children:r}))};he.defaultProps={onClick:function(){return null},children:null,type:"button"};var fe=he,de=n(50),pe=n.p+"static/media/noImg.a227329d.jpg",Oe=n(49),xe=n.n(Oe);function me(){var e=Object(s.f)().movieId,t=Object(r.useState)(null),n=Object(I.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)(!1),i=Object(I.a)(o,2),u=i[0],l=i[1],v=Object(r.useState)(null),b=Object(I.a)(v,2),h=b[0],f=b[1];Object(r.useEffect)((function(){l(!0),k.fetchMovieById(e).then((function(e){var t=e.overview,n=e.poster_path,r=e.title,c=e.original_title,o=e.release_date,i=e.genres,s=e.vote_average;a({overview:t,poster_path:n?"https://image.tmdb.org/t/p/w500/".concat(n):"".concat(pe),title:r,original_title:c,release_date:o,genres:i,vote_average:s}),l(!1)})).catch((function(e){console.log(e),f("Whoops, something went wrong. Enter your request again"),l(!1)}))}),[e]);return console.log(c),Object(j.jsxs)(j.Fragment,{children:[h&&Object(j.jsx)(z,{errorContent:h}),u&&Object(j.jsx)(W,{}),Object(j.jsxs)(fe,{onClick:function(){console.log("back")},"aria-label":"Go back",children:[Object(j.jsx)(de.a,{}),Object(j.jsx)("span",{className:xe.a.IconBtn,children:"Go back"})]}),c&&Object(j.jsx)(ae,{overview:c.overview,poster_path:c.poster_path,title:c.title,original_title:c.original_title,release_date:c.release_date.slice(0,4),genres:c.genres,vote_average:c.vote_average}),c&&Object(j.jsx)(se,{})]})}function _e(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(me,{})})}function ge(){return Object(j.jsxs)(b,{children:[Object(j.jsx)(x,{}),Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"/",exact:!0,children:Object(j.jsx)(Y,{})}),Object(j.jsx)(s.a,{path:"/movies",exact:!0,children:Object(j.jsx)(te,{})}),Object(j.jsx)(s.a,{path:"/movies/:movieId",children:Object(j.jsx)(_e,{})}),Object(j.jsx)(s.a,{children:Object(j.jsx)(ne,{})})]})]})}n(91),n(92);o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(ge,{})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.37018e06.chunk.js.map