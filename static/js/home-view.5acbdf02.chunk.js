(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[2],{136:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return m}));var n=r(1),a=r(2);function c(t){var e=t.text;return Object(a.jsx)("h1",{children:e})}c.defaultProps={text:""};var o=r(65),u=r.n(o),i=r(80),s=r(66),l=r(64),f=r(62),v=r(81),p=r(82),b=r(16),d=r(61),j=r(75);function h(){var t=Object(n.useState)([]),e=Object(l.a)(t,2),r=e[0],c=e[1],o=Object(n.useState)([]),h=Object(l.a)(o,2),m=h[0],O=h[1],x=Object(n.useState)(1),g=Object(l.a)(x,2),M=g[0],_=g[1],w=Object(n.useState)(!1),y=Object(l.a)(w,2),L=y[0],k=y[1],E=Object(n.useState)(null),S=Object(l.a)(E,2),B=S[0],I=S[1];Object(n.useEffect)((function(){(function(){var t=Object(s.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,k(!0),t.next=4,f.a.fetchTrendingMovies(M);case 4:e=t.sent,O(e),c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),k(!1),0===e.length&&I("There are no trend movies"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),I("Whoops, something went wrong. Enter your request again");case 14:return t.prev=14,k(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})));return function(){return t.apply(this,arguments)}})()()}),[M]);return Object(a.jsxs)(a.Fragment,{children:[B&&Object(a.jsx)(d.a,{errorContent:B}),L&&Object(a.jsx)(b.a,{}),r.length>0&&!B&&Object(a.jsx)(v.a,{movies:r}),m.length>19&&!L&&!B&&Object(a.jsx)(p.a,{contentBtn:"Load More",onLoadMore:function(){_((function(t){return t+1})),j.animateScroll.scrollToBottom()}}),m.length<20&&m.length>0&&!L&&!B&&Object(a.jsx)(p.a,{disabled:!0,contentBtn:"End"})]})}function m(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(c,{text:"Trending today"}),Object(a.jsx)(h,{})]})}},61:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(63),a=r.n(n),c=r(2),o=function(t){var e=t.errorContent;return Object(c.jsx)("div",{role:"alert",className:a.a.Error,children:Object(c.jsx)("p",{text:e,className:a.a.ErrorContent,children:e})})}},62:function(t,e,r){"use strict";var n=r(65),a=r.n(n),c=r(66),o=r(71),u=r.n(o);u.a.defaults.baseURL="https://api.themoviedb.org/3",u.a.defaults.params={api_key:"d0babcf2df0d52b515db9698a0e458bb",language:"en-US"};var i={fetchSearchMovies:function(){var t=Object(c.a)(a.a.mark((function t(e,r){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/search/movie",{params:{query:e,page:r}});case 3:return n=t.sent,c=n.data,t.abrupt("return",c.results);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}(),fetchTrendingMovies:function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/trending/movie/day",{params:{page:e}});case 3:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),fetchMovieById:function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/movie/".concat(e));case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),fetchCastMovie:function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/movie/".concat(e,"/credits"));case 3:return r=t.sent,n=r.data,t.abrupt("return",n.cast);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),fetchReviewMovie:function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/movie/".concat(e,"/reviews"));case 3:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()};e.a=i},63:function(t,e,r){t.exports={Error:"Error_Error__zscxp",ErrorContent:"Error_ErrorContent__2fFjr"}},72:function(t,e,r){t.exports={MovieListItem:"MovieListItem_MovieListItem__3UxJ6",MovieLink:"MovieListItem_MovieLink__aPKO5"}},73:function(t,e,r){t.exports={MoviesList:"MoviesList_MoviesList__2Bmda"}},74:function(t,e,r){t.exports={Button:"Button_Button__z2W-M"}},80:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(69);var a=r(70);function c(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},81:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));r(1);var n=r(4),a=r(11),c=r(72),o=r.n(c),u=r(2);function i(t){var e=t.id,r=t.title,c=t.original_title,i=Object(n.h)(),s=""!==r&&r?r:c;return Object(u.jsx)("li",{className:o.a.MovieListItem,children:Object(u.jsx)(a.b,{className:o.a.MovieLink,to:{pathname:"/movies/".concat(e),state:{from:i}},children:s})})}i.defaultProps={title:"",original_title:""};var s=r(73),l=r.n(s);function f(t){var e=t.movies;return Object(u.jsx)("ul",{className:l.a.MoviesList,children:e.map((function(t){var e=t.id,r=t.original_title,n=t.title;return Object(u.jsx)(i,{id:e,title:n,original_title:r},e)}))})}},82:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));r(1);var n=r(74),a=r.n(n),c=r(2),o=function(t){var e=t.onLoadMore,r=t.contentBtn,n=t.disabled;return Object(c.jsx)("button",{disabled:n,onClick:e,className:a.a.Button,children:r})};o.defaultProps={onLoadMore:function(){return null},disabled:!1};var u=o}}]);
//# sourceMappingURL=home-view.5acbdf02.chunk.js.map