{"version":3,"sources":["components/MovieDetailsPage/MovieMainInfo/MovieMainInfo.module.scss","components/MovieDetailsPage/MovieAddInfo/MovieAddInfo.module.scss","components/ButtonIcon/ButtonIcon.module.scss","components/MovieDetailsPage/MovieDetailsPage.module.scss","images/noImg.jpg","components/MovieDetailsPage/MovieMainInfo/MovieMainInfo.js","components/MovieDetailsPage/MovieAddInfo/MovieAddInfo.js","components/ButtonIcon/ButtonIcon.js","components/MovieDetailsPage/MovieDetailsPage.js","views/MovieDetailsView.js","components/Error/Error.js","api/movies-api.js","components/Error/Error.module.scss"],"names":["module","exports","MovieMainInfo","movie","titleMovie","title","original_title","className","styles","src","poster_path","noImage","alt","ImageURL","MovieContent","MovieTitle","release_date","slice","MovieScore","popularity","toFixed","overview","MovieTitleName","MovieOverview","genres","length","MovieGenreList","map","genre","MovieGenreItem","name","id","Line","defaultProps","CastView","lazy","ReviewsView","MovieAddInfo","useRouteMatch","url","path","location","useLocation","console","log","scroll","scrollToBottom","AddInfo","InfoList","InfoListItem","to","pathname","state","from","link","activeClassName","activeLink","fallback","LoaderSpinner","ButtonIcon","type","onClick","children","allyProps","MovieDetailsPage","history","useHistory","movieId","useParams","useState","setMovie","loading","setLoading","error","setError","useEffect","moviesAPI","fetchMovieById","then","catch","Error","errorContent","push","IconBtn","MovieDetailsView","role","text","ErrorContent","axios","defaults","baseURL","params","api_key","language","fetchSearchMovies","searchQuery","page","a","get","query","data","results","fetchTrendingMovies","movie_id","fetchCastMovie","cast","fetchReviewMovie"],"mappings":"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","file":"static/js/movie-details-view.68305c21.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieMainInfo\":\"MovieMainInfo_MovieMainInfo__317JT\",\"MovieTitle\":\"MovieMainInfo_MovieTitle__DvMd3\",\"MovieContent\":\"MovieMainInfo_MovieContent__1u35Y\",\"ImageURL\":\"MovieMainInfo_ImageURL__BOHF5\",\"MovieScore\":\"MovieMainInfo_MovieScore__2FS3_\",\"MovieTitleName\":\"MovieMainInfo_MovieTitleName__2La_-\",\"MovieOverview\":\"MovieMainInfo_MovieOverview__5g7rv\",\"MovieGenreList\":\"MovieMainInfo_MovieGenreList__2Ea0x\",\"MovieGenreItem\":\"MovieMainInfo_MovieGenreItem__ka1yi\",\"Line\":\"MovieMainInfo_Line__1LZJN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieAddInfo\":\"MovieAddInfo_MovieAddInfo__2QIK4\",\"AddInfo\":\"MovieAddInfo_AddInfo__1aJm7\",\"InfoList\":\"MovieAddInfo_InfoList__1SEZF\",\"InfoListItem\":\"MovieAddInfo_InfoListItem__3ejHh\",\"link\":\"MovieAddInfo_link__3GVeG\",\"activeLink\":\"MovieAddInfo_activeLink__7wdom MovieAddInfo_link__3GVeG\",\"Line\":\"MovieAddInfo_Line__15nUj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonIcon\":\"ButtonIcon_ButtonIcon__2C4eH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"IconBtn\":\"MovieDetailsPage_IconBtn__1R33v\"};","export default __webpack_public_path__ + \"static/media/noImg.a227329d.jpg\";","import PropTypes from 'prop-types';\n\nimport noImage from '../../../images/noImg.jpg';\n\nimport styles from './MovieMainInfo.module.scss';\n\nexport default function MovieMainInfo({ movie }) {\n  const titleMovie =\n    movie.title === '' || !movie.title ? movie.original_title : movie.title;\n  return (\n    <>\n      <div className={styles.MovieMainInfo}>\n        <div>\n          <img\n            src={\n              movie.poster_path\n                ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n                : noImage\n            }\n            alt={titleMovie}\n            className={styles.ImageURL}\n            // width={300}\n            // height={450}\n          />\n        </div>\n        <div className={styles.MovieContent}>\n          <h2 className={styles.MovieTitle}>\n            {titleMovie}\n            {movie.release_date && (\n              <span> ({movie.release_date.slice(0, 4)})</span>\n            )}\n          </h2>\n          <p className={styles.MovieScore}>\n            User Score: {movie.popularity.toFixed(2)}%\n          </p>\n\n          {movie.overview && (\n            <>\n              <h3 className={styles.MovieTitleName}>Overview</h3>\n              <p className={styles.MovieOverview}>{movie.overview}</p>\n            </>\n          )}\n\n          {movie.genres.length > 0 && (\n            <>\n              <h3 className={styles.MovieTitleName}>Genres</h3>\n              <ul className={styles.MovieGenreList}>\n                {movie.genres.map(genre => (\n                  <li key={genre.id} className={styles.MovieGenreItem}>\n                    {genre.name}\n                  </li>\n                ))}\n              </ul>\n            </>\n          )}\n        </div>\n      </div>\n      <hr className={styles.Line} />\n    </>\n  );\n}\n\nMovieMainInfo.defaultProps = {\n  title: '',\n  original_title: '',\n  poster_path: noImage,\n  overview: '',\n  genres: [],\n  popularity: 0,\n  release_date: 'no release date',\n};\n\nMovieMainInfo.propTypes = {\n  title: PropTypes.string,\n  original_title: PropTypes.string,\n  // id: PropTypes.number.isRequired,\n  overview: PropTypes.string,\n  poster_path: PropTypes.string,\n  release_date: PropTypes.string,\n  genres: PropTypes.array,\n  popularity: PropTypes.number,\n};\n","import { lazy, Suspense } from 'react';\n\nimport { NavLink, useRouteMatch, Route, useLocation } from 'react-router-dom';\n\nimport LoaderSpinner from '../../LoaderSpinner';\nimport { animateScroll as scroll } from 'react-scroll';\n\nimport styles from './MovieAddInfo.module.scss';\n\nconst CastView = lazy(() =>\n  import('../../../views/CastView.js' /* webpackChunkName: \"cast-view\" */),\n);\n\nconst ReviewsView = lazy(() =>\n  import('../../../views/ReviewsView' /* webpackChunkName: \"reviews-view\" */),\n);\n\nexport default function MovieAddInfo() {\n  const { url, path } = useRouteMatch();\n  const location = useLocation();\n\n  console.log(location);\n\n  scroll.scrollToBottom();\n\n  return (\n    <div className={styles.MovieAddInfo}>\n      <p className={styles.AddInfo}>Additional Information</p>\n      <ul className={styles.InfoList}>\n        <li className={styles.InfoListItem}>\n          <NavLink\n            to={{\n              pathname: `${url}/cast`,\n              state: {\n                from: location.state ? location.state.from : '/',\n              },\n            }}\n            className={styles.link}\n            activeClassName={styles.activeLink}\n          >\n            Cast\n          </NavLink>\n        </li>\n        <li className={styles.InfoListItem}>\n          <NavLink\n            to={{\n              pathname: `${url}/reviews`,\n              state: {\n                from: location.state ? location.state.from : '/',\n              },\n            }}\n            className={styles.link}\n            activeClassName={styles.activeLink}\n          >\n            Reviews\n          </NavLink>\n        </li>\n      </ul>\n\n      <hr className={styles.Line} />\n\n      <Suspense fallback={<LoaderSpinner />}>\n        <Route\n          path={`${path}/cast`}\n          // path=\"/movies/:movieId/cast\"\n        >\n          <CastView />\n        </Route>\n\n        <Route path={`${path}/reviews`}>\n          <ReviewsView />\n        </Route>\n      </Suspense>\n    </div>\n  );\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport styles from './ButtonIcon.module.scss';\n\nconst ButtonIcon = ({ type, onClick, children, ...allyProps }) => (\n  <button\n    type={type}\n    onClick={onClick}\n    className={styles.ButtonIcon}\n    {...allyProps}\n  >\n    {children}\n  </button>\n);\n\nButtonIcon.defaultProps = {\n  onClick: () => null,\n  children: null,\n  type: 'button',\n};\n\nButtonIcon.propTypes = {\n  onClick: PropTypes.func,\n  type: PropTypes.string,\n  children: PropTypes.node,\n  'aria-label': PropTypes.string.isRequired,\n};\n\nexport default ButtonIcon;\n","import { useState, useEffect } from 'react';\nimport { useParams, useHistory, useLocation } from 'react-router-dom';\nimport moviesAPI from '../../api/movies-api';\n\nimport MovieMainInfo from './MovieMainInfo';\nimport MovieAddInfo from './MovieAddInfo';\nimport ButtonIcon from '../ButtonIcon';\nimport { HiArrowLeft } from 'react-icons/hi';\nimport LoaderSpinner from '../LoaderSpinner';\nimport Error from '../Error';\n\nimport styles from './MovieDetailsPage.module.scss';\n\nexport default function MovieDetailsPage() {\n  const history = useHistory();\n  const location = useLocation();\n\n  const { movieId } = useParams();\n\n  const [movie, setMovie] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setLoading(true);\n    moviesAPI\n      .fetchMovieById(movieId)\n      .then(movie => {\n        setMovie(movie);\n        setLoading(false);\n      })\n      .catch(error => {\n        console.log(error);\n        setError('Whoops, something went wrong. Enter your request again');\n        setLoading(false);\n      });\n  }, [movieId]);\n\n  const onGoBack = () => {\n    history.push(location?.state?.from ?? '/');\n  };\n\n  return (\n    <>\n      {error && <Error errorContent={error} />}\n      {loading && <LoaderSpinner />}\n      <ButtonIcon onClick={onGoBack} aria-label=\"Go back\">\n        <HiArrowLeft />\n        <span className={styles.IconBtn}>Go back</span>\n      </ButtonIcon>\n\n      {movie && (\n        <>\n          <MovieMainInfo movie={movie} />\n          <MovieAddInfo />\n        </>\n      )}\n    </>\n  );\n}\n","import MovieDetailsPage from '../components/MovieDetailsPage';\n\nexport default function MovieDetailsView() {\n  return (\n    <>\n      <MovieDetailsPage />\n    </>\n  );\n}\n","import PropTypes from 'prop-types';\nimport styles from './Error.module.scss';\n\nconst Error = ({ errorContent }) => {\n  return (\n    <div role=\"alert\" className={styles.Error}>\n      <p text={errorContent} className={styles.ErrorContent}>\n        {errorContent}\n      </p>\n    </div>\n  );\n};\n\nError.propTypes = {\n  errorContent: PropTypes.string.isRequired,\n};\n\nexport default Error;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: 'd0babcf2df0d52b515db9698a0e458bb',\n  language: 'en-US',\n};\n\nconst fetchSearchMovies = async (searchQuery, page) => {\n  try {\n    const { data } = await axios.get('/search/movie', {\n      params: { query: searchQuery, page },\n    });\n    // console.log(data.results);\n    return data.results;\n  } catch (error) {\n    return [];\n  }\n};\n\nconst fetchTrendingMovies = async page => {\n  try {\n    const { data } = await axios.get('/trending/movie/day', {\n      params: { page },\n    });\n    // console.log(data.results);\n    return data.results;\n  } catch (error) {\n    return [];\n  }\n};\n\nconst fetchMovieById = async movie_id => {\n  try {\n    const { data } = await axios.get(`/movie/${movie_id}`);\n    // console.log(data);\n    return data;\n  } catch (error) {\n    return null;\n  }\n};\n\nconst fetchCastMovie = async movie_id => {\n  try {\n    const { data } = await axios.get(`/movie/${movie_id}/credits`);\n    // console.log(data.cast);\n    return data.cast;\n  } catch (error) {\n    return null;\n  }\n};\n\nconst fetchReviewMovie = async movie_id => {\n  try {\n    const { data } = await axios.get(`/movie/${movie_id}/reviews`);\n    // console.log(data.results);\n    return data.results;\n  } catch (error) {\n    return null;\n  }\n};\n\nconst moviesAPI = {\n  fetchSearchMovies,\n  fetchTrendingMovies,\n  fetchMovieById,\n  fetchCastMovie,\n  fetchReviewMovie,\n};\n\nexport default moviesAPI;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__zscxp\",\"ErrorContent\":\"Error_ErrorContent__2fFjr\"};"],"sourceRoot":""}