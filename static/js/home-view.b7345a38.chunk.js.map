{"version":3,"sources":["components/PageHeading/PageHeading.js","components/HomePage/HomePage.js","views/HomeView.js","components/Error/Error.js","api/movies-api.js","components/Error/Error.module.scss","components/MovieListItem/MovieListItem.module.scss","components/MoviesList/MoviesList.module.scss","components/Button/Button.module.scss","components/MovieListItem/MovieListItem.js","components/MoviesList/MoviesList.js","components/Button/Button.js"],"names":["PageHeading","text","defaultProps","HomePage","useState","movies","setMovies","moviesPageList","setMoviesPageList","page","setPage","loading","setLoading","error","setError","useEffect","a","moviesAPI","fetchTrendingMovies","prevMovies","length","fetchMoviesList","Error","errorContent","LoaderSpinner","MoviesList","Button","contentBtn","onLoadMore","prevPage","scroll","scrollToBottom","disabled","HomeView","role","className","styles","ErrorContent","BASE_URL","API_KEY","fetchSearchMovies","searchQuery","urlSearchMovies","axios","get","data","results","urlTrendingMovies","fetchMovieById","movie_id","urlMovieById","fetchCastMovie","urlCastMovie","cast","fetchReviewMovie","urlReviewMovie","module","exports","MoviesListItem","id","title","original_title","location","useLocation","titleMovie","MovieListItem","MovieLink","to","pathname","state","from","map","onClick"],"mappings":"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","file":"static/js/home-view.b7345a38.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function PageHeading({ text }) {\n  return <h1>{text}</h1>;\n}\n\nPageHeading.defaultProps = {\n  text: '',\n};\n\nPageHeading.propTypes = {\n  text: PropTypes.string,\n};\n","import React, { useState, useEffect } from 'react';\nimport moviesAPI from '../../api/movies-api';\nimport MoviesList from '../MoviesList';\nimport Button from '../Button';\nimport LoaderSpinner from '../LoaderSpinner';\nimport Error from '../Error';\nimport { animateScroll as scroll } from 'react-scroll';\n\nexport default function HomePage() {\n  const [movies, setMovies] = useState([]);\n  const [moviesPageList, setMoviesPageList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchMoviesList = async () => {\n      try {\n        setLoading(true);\n        const moviesPageList = await moviesAPI.fetchTrendingMovies(page);\n\n        setMoviesPageList(moviesPageList);\n        setMovies(prevMovies => [...prevMovies, ...moviesPageList]);\n        setLoading(false);\n\n        if (moviesPageList.length === 0) {\n          setError(`There are no trend movies`);\n        }\n      } catch (error) {\n        setError('Whoops, something went wrong. Enter your request again');\n      } finally {\n        setLoading(false);\n        // this.scroll();\n      }\n    };\n    fetchMoviesList();\n  }, [page]);\n\n  const loadMore = () => {\n    setPage(prevPage => prevPage + 1);\n    scroll.scrollToBottom();\n  };\n\n  return (\n    <>\n      {error && <Error errorContent={error} />}\n\n      {loading && <LoaderSpinner />}\n\n      {movies.length > 0 && !error && <MoviesList movies={movies} />}\n\n      {moviesPageList.length > 19 && !loading && !error && (\n        <Button contentBtn=\"Load More\" onLoadMore={loadMore} />\n      )}\n      {moviesPageList.length < 20 &&\n        moviesPageList.length > 0 &&\n        !loading &&\n        !error && <Button disabled contentBtn=\"End\" />}\n    </>\n  );\n}\n","import PageHeading from '../components/PageHeading';\r\nimport HomePage from '../components/HomePage';\r\n\r\nexport default function HomeView() {\r\n  return (\r\n    <>\r\n      <PageHeading text=\"Trending today\" />\r\n      <HomePage />\r\n    </>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\nimport styles from './Error.module.scss';\n\nconst Error = ({ errorContent }) => {\n  return (\n    <div role=\"alert\" className={styles.Error}>\n      <p text={errorContent} className={styles.ErrorContent}>\n        {errorContent}\n      </p>\n    </div>\n  );\n};\n\nError.propTypes = {\n  errorContent: PropTypes.string.isRequired,\n};\n\nexport default Error;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'd0babcf2df0d52b515db9698a0e458bb';\n\nconst fetchSearchMovies = async (searchQuery, page) => {\n  const urlSearchMovies = `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=${page}&query=${searchQuery}`;\n\n  try {\n    const { data } = await axios.get(urlSearchMovies);\n    // console.log(data.results);\n    return data.results;\n  } catch (error) {\n    return [];\n  }\n};\n\nconst fetchTrendingMovies = async page => {\n  const urlTrendingMovies = `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&language=en-US&page=${page}`;\n\n  try {\n    const { data } = await axios.get(urlTrendingMovies);\n    // console.log(data.results);\n    return data.results;\n  } catch (error) {\n    return null;\n  }\n};\n\nconst fetchMovieById = async movie_id => {\n  const urlMovieById = `${BASE_URL}/movie/${movie_id}?api_key=${API_KEY}&language=en-US`;\n  try {\n    const { data } = await axios.get(urlMovieById);\n    // console.log(data);\n    return data;\n  } catch (error) {\n    return null;\n  }\n};\n\nconst fetchCastMovie = async movie_id => {\n  const urlCastMovie = `${BASE_URL}/movie/${movie_id}/credits?api_key=${API_KEY}&language=en-US`;\n  try {\n    const { data } = await axios.get(urlCastMovie);\n    // console.log(data.cast);\n    return data.cast;\n  } catch (error) {\n    return null;\n  }\n};\n\nconst fetchReviewMovie = async movie_id => {\n  const urlReviewMovie = `${BASE_URL}/movie/${movie_id}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n\n  try {\n    const { data } = await axios.get(urlReviewMovie);\n    // console.log(data.results);\n    return data.results;\n  } catch (error) {\n    return null;\n  }\n};\n\nconst moviesAPI = {\n  fetchSearchMovies,\n  fetchTrendingMovies,\n  fetchMovieById,\n  fetchCastMovie,\n  fetchReviewMovie,\n};\n\nexport default moviesAPI;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__zscxp\",\"ErrorContent\":\"Error_ErrorContent__2fFjr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieListItem\":\"MovieListItem_MovieListItem__3UxJ6\",\"MovieLink\":\"MovieListItem_MovieLink__aPKO5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MoviesList\":\"MoviesList_MoviesList__2Bmda\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__z2W-M\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport styles from './MovieListItem.module.scss';\n\nexport default function MoviesListItem({ id, title, original_title }) {\n  const location = useLocation();\n\n  const titleMovie = title === '' || !title ? original_title : title;\n\n  return (\n    // <li className={styles.MovieListItem}>\n    //   <Link to={`${url}/${id}`}>{titleMovie}</Link>\n    // </li>\n\n    <li className={styles.MovieListItem}>\n      <Link\n        className={styles.MovieLink}\n        // to={`/movies/${id}`}\n        to={{\n          pathname: `/movies/${id}`,\n          state: { from: location },\n        }}\n      >\n        {titleMovie}\n      </Link>\n    </li>\n  );\n}\n\nMoviesListItem.defaultProps = {\n  title: '',\n  original_title: '',\n};\n\nMoviesListItem.propTypes = {\n  title: PropTypes.string,\n  original_title: PropTypes.string,\n  id: PropTypes.number.isRequired,\n  // onClickImage: PropTypes.func.isRequired,\n};\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport MoviesListItem from '../MovieListItem/MovieListItem';\n\nimport styles from './MoviesList.module.scss';\n\nexport default function MoviesList({ movies }) {\n  return (\n    <ul className={styles.MoviesList}>\n      {movies.map(({ id, original_title, title }) => (\n        <MoviesListItem\n          key={id}\n          id={id}\n          title={title}\n          original_title={original_title}\n        />\n      ))}\n    </ul>\n  );\n}\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n};\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport styles from './Button.module.scss';\n\nconst Button = ({ onLoadMore, contentBtn, disabled }) => (\n  <button disabled={disabled} onClick={onLoadMore} className={styles.Button}>\n    {contentBtn}\n  </button>\n);\n\nButton.defaultProps = {\n  onLoadMore: () => null,\n  disabled: false,\n};\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func,\n  contentBtn: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n};\n\nexport default Button;\n"],"sourceRoot":""}