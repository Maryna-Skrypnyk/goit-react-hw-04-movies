(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{12:function(e,t,n){e.exports={MovieMainInfo:"MovieMainInfo_MovieMainInfo__317JT",MovieContent:"MovieMainInfo_MovieContent__1u35Y",ImageURL:"MovieMainInfo_ImageURL__BOHF5",MovieScore:"MovieMainInfo_MovieScore__2FS3_",MovieTitleName:"MovieMainInfo_MovieTitleName__2La_-",MovieOverview:"MovieMainInfo_MovieOverview__5g7rv",MovieGenreList:"MovieMainInfo_MovieGenreList__2Ea0x",MovieGenreItem:"MovieMainInfo_MovieGenreItem__ka1yi",Line:"MovieMainInfo_Line__1LZJN"}},120:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(17),i=n.n(r),o=n(7),s=n(4),u=n(53),l=n.n(u),j=n(0),v=function(e){var t=e.children;return Object(j.jsx)("div",{className:l.a.container,children:t})},b=function(e){var t=e.children;return Object(j.jsx)(v,{children:t})},h=n(14),d=n.n(h),O=function(){return Object(j.jsx)("div",{className:d.a.ContainerNav,children:Object(j.jsx)("nav",{className:d.a.Navigation,children:Object(j.jsxs)("ul",{className:d.a.NavList,children:[Object(j.jsx)("li",{className:d.a.NavListItem,children:Object(j.jsx)(o.c,{exact:!0,to:"/",className:d.a.link,activeClassName:d.a.activeLink,children:"Home"})}),Object(j.jsx)("li",{className:d.a.NavListItem,children:Object(j.jsx)(o.c,{to:"/movies",className:d.a.link,activeClassName:d.a.activeLink,children:"Movies"})})]})})})},f=n(55),m=n.n(f);function p(){return Object(j.jsx)("header",{className:m.a.Header,children:Object(j.jsx)(O,{})})}function x(e){var t=e.text;return Object(j.jsx)("h1",{children:t})}x.defaultProps={text:""};var _=n(6),g=n.n(_),M=n(18),N=n(13),I=n(3),L=n(20),w=n.n(L),S="https://api.themoviedb.org/3",C="d0babcf2df0d52b515db9698a0e458bb",k={fetchSearchMovies:function(){var e=Object(N.a)(g.a.mark((function e(t,n){var a,c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(S,"/search/movie?api_key=").concat(C,"&language=en-US&page=").concat(n,"&query=").concat(t),e.prev=1,e.next=4,w.a.get(a);case 4:return c=e.sent,r=c.data,e.abrupt("return",r.results);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),fetchTrendingMovies:function(){var e=Object(N.a)(g.a.mark((function e(t){var n,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(S,"/trending/movie/day?api_key=").concat(C,"&language=en-US&page=").concat(t),e.prev=1,e.next=4,w.a.get(n);case 4:return a=e.sent,c=a.data,e.abrupt("return",c.results);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),fetchMovieById:function(){var e=Object(N.a)(g.a.mark((function e(t){var n,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(S,"/movie/").concat(t,"?api_key=").concat(C,"&language=en-US"),e.prev=1,e.next=4,w.a.get(n);case 4:return a=e.sent,c=a.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),fetchCastMovie:function(){var e=Object(N.a)(g.a.mark((function e(t){var n,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(S,"/movie/").concat(t,"/credits?api_key=").concat(C,"&language=en-US"),e.prev=1,e.next=4,w.a.get(n);case 4:return a=e.sent,c=a.data,console.log(c.cast),e.abrupt("return",c.cast);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),fetchReviewMovie:function(){var e=Object(N.a)(g.a.mark((function e(t){var n,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(S,"/movie/").concat(t,"/reviews?api_key=").concat(C,"&language=en-US&page=1"),e.prev=1,e.next=4,w.a.get(n);case 4:return a=e.sent,c=a.data,e.abrupt("return",c.results);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},y=n(38),F=n.n(y);function B(e){var t=e.id,n=e.title,a=e.original_title,c=Object(s.g)(),r=""!==n&&n?n:a;return Object(j.jsx)("li",{className:F.a.MovieListItem,children:Object(j.jsx)(o.b,{className:F.a.MovieLink,to:{pathname:"/movies/".concat(t),state:{from:c}},children:r})})}B.defaultProps={title:"",original_title:""};var E=n(56),R=n.n(E);function A(e){var t=e.movies;return Object(j.jsx)("ul",{className:R.a.MoviesList,children:t.map((function(e){var t=e.id,n=e.title,a=e.original_title;return Object(j.jsx)(B,{id:t,title:n,original_title:a},t)}))})}var G=n(57),T=n.n(G),P=function(e){var t=e.onLoadMore,n=e.contentBtn,a=e.disabled;return Object(j.jsx)("button",{disabled:a,onClick:t,className:T.a.Button,children:n})};P.defaultProps={onLoadMore:function(){return null},disabled:!1};var U=P,W=n(58),H=n.n(W),q=(n(111),n(59)),J=n.n(q),z=function(){return Object(j.jsx)("div",{className:J.a.LoaderSpinner,children:Object(j.jsx)(H.a,{type:"Watch",color:"#00BFFF",height:100,width:100,timeout:0})})},V=n(39),D=n.n(V),K=function(e){var t=e.errorContent;return Object(j.jsx)("div",{role:"alert",className:D.a.Error,children:Object(j.jsx)("p",{text:t,className:D.a.ErrorContent,children:t})})},Z=n(28);function Q(){var e=Object(a.useState)([]),t=Object(I.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(I.a)(r,2),o=i[0],s=i[1],u=Object(a.useState)(1),l=Object(I.a)(u,2),v=l[0],b=l[1],h=Object(a.useState)(!1),d=Object(I.a)(h,2),O=d[0],f=d[1],m=Object(a.useState)(null),p=Object(I.a)(m,2),x=p[0],_=p[1];Object(a.useEffect)((function(){(function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,k.fetchTrendingMovies(v);case 4:t=e.sent,s(t),c((function(e){return[].concat(Object(M.a)(e),Object(M.a)(t))})),f(!1),0===t.length&&_("There are no trend movies"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),_("Whoops, something went wrong. Enter your request again");case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}})()()}),[v]);return Object(j.jsxs)(j.Fragment,{children:[x&&Object(j.jsx)(K,{errorContent:x}),O&&Object(j.jsx)(z,{}),n.length>0&&!x&&Object(j.jsx)(A,{movies:n}),o.length>19&&!O&&!x&&Object(j.jsx)(U,{contentBtn:"Load More",onLoadMore:function(){b((function(e){return e+1})),Z.animateScroll.scrollToBottom()}}),o.length<19&&o.length>0&&!O&&!x&&Object(j.jsx)(U,{disabled:!0,contentBtn:"End"})]})}function Y(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x,{text:"Trending today"}),Object(j.jsx)(Q,{})]})}var X=n(19),$=n(22),ee=n(29),te=n.n(ee),ne=function(e){var t=e.handleSubmit,n=Object(a.useState)(""),c=Object(I.a)(n,2),r=c[0],i=c[1];return Object(j.jsxs)("form",{className:te.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===r.trim())return $.c.warn("Enter your request",{position:"top-left",transition:$.b,style:{top:100,left:237,textAlign:"center",width:290,margin:"0 auto"}});t(r)},children:[Object(j.jsx)("input",{className:te.a.SearchFormInput,type:"text",value:r,onChange:function(e){var t=e.target.value;i(t.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),Object(j.jsx)("button",{className:te.a.SearchFormButton,type:"submit","aria-label":"Search movies",children:"Search"})]})};n(119),n(120);function ae(){var e=Object(s.f)(),t=Object(s.g)(),n=Object(a.useState)([]),c=Object(I.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)([]),u=Object(I.a)(o,2),l=u[0],v=u[1],b=Object(a.useState)(""),h=Object(I.a)(b,2),d=h[0],O=h[1],f=Object(a.useState)(1),m=Object(I.a)(f,2),p=m[0],x=m[1],_=Object(a.useState)(!1),L=Object(I.a)(_,2),w=L[0],S=L[1],C=Object(a.useState)(null),y=Object(I.a)(C,2),F=y[0],B=y[1];Object(a.useEffect)((function(){if(""!==t.search){var e=new URLSearchParams(t.search).get("movie");O(e)}}),[t.search]),Object(a.useEffect)((function(){d&&function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,k.fetchSearchMovies(d,p);case 4:t=e.sent,v(t),i((function(e){return[].concat(Object(M.a)(e),Object(M.a)(t))})),S(!1),0===t.length&&B('There are no movies on your request "'.concat(d,'"')),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),B("Whoops, something went wrong. Enter your request again");case 14:return e.prev=14,S(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}()()}),[d,p]);var E=function(){i([]),x(1),B(null),v([])};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ne,{handleSubmit:function(n){O(n),E(),e.push(Object(X.a)(Object(X.a)({},t),{},{search:"movie=".concat(n)}))}}),F&&Object(j.jsx)(K,{errorContent:F}),w&&Object(j.jsx)(z,{}),r.length>0&&!F&&Object(j.jsx)(A,{movies:r}),l.length>19&&!w&&!F&&Object(j.jsx)(U,{contentBtn:"Load More",onLoadMore:function(){x((function(e){return e+1})),Z.animateScroll.scrollToBottom()}}),l.length<19&&l.length>0&&!w&&!F&&Object(j.jsx)(U,{disabled:!0,contentBtn:"End"}),Object(j.jsx)($.a,{autoClose:3e3})]})}function ce(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(ae,{})})}function re(){return Object(j.jsx)("h1",{children:"404 Page is not found..."})}var ie=n.p+"static/media/noImg.a227329d.jpg",oe=n(12),se=n.n(oe);function ue(e){var t=e.movie,n=""!==t.title&&t.title?t.title:t.original_title;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:se.a.MovieMainInfo,children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:t.poster_path?"https://image.tmdb.org/t/p/w500/".concat(t.poster_path):ie,alt:n,className:se.a.ImageURL})}),Object(j.jsxs)("div",{className:se.a.MovieContent,children:[Object(j.jsxs)("h2",{className:se.a.MovieTitle,children:[n,t.release_date&&Object(j.jsxs)("span",{children:[" (",t.release_date.slice(0,4),")"]})]}),Object(j.jsxs)("p",{className:se.a.MovieScore,children:["User Score: ",t.popularity.toFixed(2),"%"]}),t.overview&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:se.a.MovieTitleName,children:"Overview"}),Object(j.jsx)("p",{className:se.a.MovieOverview,children:t.overview})]}),t.genres.length>0&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:se.a.MovieTitleName,children:"Genres"}),Object(j.jsx)("ul",{className:se.a.MovieGenreList,children:t.genres.map((function(e){return Object(j.jsx)("li",{className:se.a.MovieGenreItem,children:e.name},e.id)}))})]})]})]}),Object(j.jsx)("hr",{className:se.a.Line})]})}ue.defaultProps={title:"",original_title:"",poster_path:ie,overview:"",genres:[],popularity:0,release_date:"no release date"};var le=n.p+"static/media/noImage.12e64bc7.png",je=n(23),ve=n.n(je);function be(e){var t=e.original_name,n=e.character,a=e.profile_path;return Object(j.jsxs)("li",{className:ve.a.Cast,children:[Object(j.jsx)("img",{src:a?"https://image.tmdb.org/t/p/w500/".concat(a):le,alt:t,className:ve.a.PhotoCast}),Object(j.jsx)("h4",{className:ve.a.Name,children:t}),Object(j.jsx)("p",{className:ve.a.Character,children:n})]})}be.defaultProps={profile_path:le};var he=n(60),de=n.n(he);function Oe(e){var t=e.actors;return Object(j.jsx)("ul",{className:de.a.CastList,children:t.map((function(e){var t=e.credit_id,n=e.original_name,a=e.character,c=e.profile_path;return Object(j.jsx)(be,{credit_id:t,original_name:n,character:a,profile_path:c},t)}))})}function fe(){var e=Object(s.h)().movieId,t=Object(a.useState)(null),n=Object(I.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(I.a)(i,2),u=o[0],l=o[1],v=Object(a.useState)(null),b=Object(I.a)(v,2),h=b[0],d=b[1];return Object(a.useEffect)((function(){l(!0),k.fetchCastMovie(e).then((function(e){0===e.length&&d("We don`t have any cast for this movie."),r(e),l(!1)})).catch((function(e){console.log(e),d("Whoops, something went wrong. Enter your request again"),l(!1)}))}),[e]),Object(j.jsxs)(j.Fragment,{children:[h&&Object(j.jsx)(K,{errorContent:h}),u&&Object(j.jsx)(z,{}),c&&Object(j.jsx)(Oe,{actors:c})]})}var me=n(24),pe=n.n(me);function xe(e){var t=e.reviews;return Object(j.jsx)("ul",{className:pe.a.Review,children:t.map((function(e){var t=e.id,n=e.author,a=e.content;return Object(j.jsxs)("li",{className:pe.a.ReviewItem,children:[Object(j.jsxs)("h2",{className:pe.a.Name,children:["Author: ",n]}),Object(j.jsx)("p",{className:pe.a.Content,children:a})]},t)}))})}function _e(){var e=Object(s.h)().movieId,t=Object(a.useState)(null),n=Object(I.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(I.a)(i,2),u=o[0],l=o[1],v=Object(a.useState)(null),b=Object(I.a)(v,2),h=b[0],d=b[1];return Object(a.useEffect)((function(){l(!0),k.fetchReviewMovie(e).then((function(e){0===e.length&&d("We don`t have any reviews for this movie."),r(e),l(!1)})).catch((function(e){console.log(e),d("Whoops, something went wrong. Enter your request again"),l(!1)}))}),[e]),Object(j.jsxs)(j.Fragment,{children:[h&&Object(j.jsx)(K,{errorContent:h}),u&&Object(j.jsx)(z,{}),c&&Object(j.jsx)(xe,{reviews:c})]})}var ge=n(15),Me=n.n(ge);function Ne(){var e=Object(s.i)(),t=e.url,n=e.path,a=Object(s.g)();return console.log(a),Object(j.jsxs)("div",{className:Me.a.MovieAddInfo,children:[Object(j.jsx)("p",{className:Me.a.AddInfo,children:"Additional Information"}),Object(j.jsxs)("ul",{className:Me.a.InfoList,children:[Object(j.jsx)("li",{children:Object(j.jsx)(o.c,{to:{pathname:"".concat(t,"/cast"),state:{from:a.state?a.state.from:"/"}},className:Me.a.link,activeClassName:Me.a.activeLink,children:"Cast"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.c,{to:{pathname:"".concat(t,"/reviews"),state:{from:a.state?a.state.from:"/"}},className:Me.a.link,activeClassName:Me.a.activeLink,children:"Reviews"})})]}),Object(j.jsx)("hr",{className:Me.a.Line}),Object(j.jsx)(s.a,{path:"".concat(n,"/cast"),children:Object(j.jsx)(fe,{})}),Object(j.jsx)(s.a,{path:"".concat(n,"/reviews"),children:Object(j.jsx)(_e,{})})]})}var Ie=n(64),Le=n(61),we=n.n(Le),Se=["type","onClick","children"],Ce=function(e){var t=e.type,n=e.onClick,a=e.children,c=Object(Ie.a)(e,Se);return Object(j.jsx)("button",Object(X.a)(Object(X.a)({type:t,onClick:n,className:we.a.ButtonIcon},c),{},{children:a}))};Ce.defaultProps={onClick:function(){return null},children:null,type:"button"};var ke=Ce,ye=n(63),Fe=n(62),Be=n.n(Fe);function Ee(){var e=Object(s.f)(),t=Object(s.g)(),n=Object(s.h)().movieId,c=Object(a.useState)(null),r=Object(I.a)(c,2),i=r[0],o=r[1],u=Object(a.useState)(!1),l=Object(I.a)(u,2),v=l[0],b=l[1],h=Object(a.useState)(null),d=Object(I.a)(h,2),O=d[0],f=d[1];Object(a.useEffect)((function(){b(!0),k.fetchMovieById(n).then((function(e){o(e),b(!1)})).catch((function(e){console.log(e),f("Whoops, something went wrong. Enter your request again"),b(!1)}))}),[n]);return Object(j.jsxs)(j.Fragment,{children:[O&&Object(j.jsx)(K,{errorContent:O}),v&&Object(j.jsx)(z,{}),Object(j.jsxs)(ke,{onClick:function(){var n,a;e.push(null!==(n=null===t||void 0===t||null===(a=t.state)||void 0===a?void 0:a.from)&&void 0!==n?n:"/")},"aria-label":"Go back",children:[Object(j.jsx)(ye.a,{}),Object(j.jsx)("span",{className:Be.a.IconBtn,children:"Go back"})]}),i&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ue,{movie:i}),Object(j.jsx)(Ne,{})]})]})}function Re(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(Ee,{})})}function Ae(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{}),Object(j.jsx)(b,{children:Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"/",exact:!0,children:Object(j.jsx)(Y,{})}),Object(j.jsx)(s.a,{path:"/movies/:movieId",children:Object(j.jsx)(Re,{})}),Object(j.jsx)(s.a,{path:"/movies",children:Object(j.jsx)(ce,{})}),Object(j.jsx)(s.a,{children:Object(j.jsx)(re,{})})]})})]})}n(121),n(122);i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(Ae,{})})}),document.getElementById("root"))},14:function(e,t,n){e.exports={ContainerNav:"Navigation_ContainerNav__2T-Cn",NavList:"Navigation_NavList__3yzOh",NavListItem:"Navigation_NavListItem__36Ry6",link:"Navigation_link__nHVx8",activeLink:"Navigation_activeLink__2NlCg Navigation_link__nHVx8"}},15:function(e,t,n){e.exports={MovieAddInfo:"MovieAddInfo_MovieAddInfo__2QIK4",AddInfo:"MovieAddInfo_AddInfo__1aJm7",InfoList:"MovieAddInfo_InfoList__1SEZF",link:"MovieAddInfo_link__3GVeG",activeLink:"MovieAddInfo_activeLink__7wdom MovieAddInfo_link__3GVeG",Line:"MovieAddInfo_Line__15nUj"}},23:function(e,t,n){e.exports={Cast:"CastListItem_Cast__354zo",PhotoCast:"CastListItem_PhotoCast__1GBeW",Name:"CastListItem_Name__Bcuex",Character:"CastListItem_Character__2k9pD"}},24:function(e,t,n){e.exports={Review:"Reviews_Review__3l49L",ReviewItem:"Reviews_ReviewItem__u2sZ0",Name:"Reviews_Name__5H8Nx",Content:"Reviews_Content__38GKm"}},29:function(e,t,n){e.exports={SearchForm:"Searchbar_SearchForm__10JQA",SearchFormButton:"Searchbar_SearchFormButton__2Foje",SearchFormInput:"Searchbar_SearchFormInput__3ObGx"}},38:function(e,t,n){e.exports={MovieListItem:"MovieListItem_MovieListItem__3UxJ6",MovieLink:"MovieListItem_MovieLink__aPKO5"}},39:function(e,t,n){e.exports={Error:"Error_Error__zscxp",ErrorContent:"Error_ErrorContent__2fFjr"}},53:function(e,t,n){e.exports={container:"Container_container__3DzbV"}},55:function(e,t,n){e.exports={Header:"AppBar_Header__1LE-9"}},56:function(e,t,n){},57:function(e,t,n){e.exports={Button:"Button_Button__z2W-M"}},59:function(e,t,n){e.exports={LoaderSpinner:"LoaderSpinner_LoaderSpinner__14JuI"}},60:function(e,t,n){e.exports={CastList:"CastList_CastList__2i9K-"}},61:function(e,t,n){e.exports={ButtonIcon:"ButtonIcon_ButtonIcon__2C4eH"}},62:function(e,t,n){e.exports={IconBtn:"MovieDetailsPage_IconBtn__1R33v"}}},[[123,1,2]]]);
//# sourceMappingURL=main.af38ec53.chunk.js.map