{"version":3,"sources":["components/MovieDetailsPage/MovieMainInfo/MovieMainInfo.module.scss","components/MovieDetailsPage/MovieAddInfo/MovieAddInfo.module.scss","components/ButtonIcon/ButtonIcon.module.scss","components/MovieDetailsPage/MovieDetailsPage.module.scss","images/noImg.jpg","components/MovieDetailsPage/MovieMainInfo/MovieMainInfo.js","components/MovieDetailsPage/MovieAddInfo/MovieAddInfo.js","components/ButtonIcon/ButtonIcon.js","components/MovieDetailsPage/MovieDetailsPage.js","views/MovieDetailsView.js","api/movies-api.js","components/Error/Error.js","components/Error/Error.module.scss"],"names":["module","exports","MovieMainInfo","movie","titleMovie","title","original_title","className","styles","src","poster_path","noImage","alt","ImageURL","MovieContent","MovieTitle","release_date","slice","MovieScore","popularity","toFixed","overview","MovieTitleName","MovieOverview","genres","length","MovieGenreList","map","genre","MovieGenreItem","name","id","Line","defaultProps","CastView","lazy","ReviewsView","MovieAddInfo","useRouteMatch","url","path","location","useLocation","AddInfo","InfoList","to","pathname","state","from","link","activeClassName","activeLink","fallback","LoaderSpinner","ButtonIcon","type","onClick","children","allyProps","MovieDetailsPage","history","useHistory","movieId","useParams","useState","setMovie","loading","setLoading","error","setError","useEffect","moviesAPI","fetchMovieById","then","catch","console","log","Error","errorContent","push","IconBtn","MovieDetailsView","BASE_URL","API_KEY","fetchSearchMovies","searchQuery","page","a","urlSearchMovies","axios","get","data","results","fetchTrendingMovies","urlTrendingMovies","movie_id","urlMovieById","fetchCastMovie","urlCastMovie","cast","fetchReviewMovie","urlReviewMovie","role","text","ErrorContent"],"mappings":"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","file":"static/js/movie-details-view.5f5e768e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieMainInfo\":\"MovieMainInfo_MovieMainInfo__317JT\",\"MovieContent\":\"MovieMainInfo_MovieContent__1u35Y\",\"ImageURL\":\"MovieMainInfo_ImageURL__BOHF5\",\"MovieScore\":\"MovieMainInfo_MovieScore__2FS3_\",\"MovieTitleName\":\"MovieMainInfo_MovieTitleName__2La_-\",\"MovieOverview\":\"MovieMainInfo_MovieOverview__5g7rv\",\"MovieGenreList\":\"MovieMainInfo_MovieGenreList__2Ea0x\",\"MovieGenreItem\":\"MovieMainInfo_MovieGenreItem__ka1yi\",\"Line\":\"MovieMainInfo_Line__1LZJN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieAddInfo\":\"MovieAddInfo_MovieAddInfo__2QIK4\",\"AddInfo\":\"MovieAddInfo_AddInfo__1aJm7\",\"InfoList\":\"MovieAddInfo_InfoList__1SEZF\",\"link\":\"MovieAddInfo_link__3GVeG\",\"activeLink\":\"MovieAddInfo_activeLink__7wdom MovieAddInfo_link__3GVeG\",\"Line\":\"MovieAddInfo_Line__15nUj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonIcon\":\"ButtonIcon_ButtonIcon__2C4eH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"IconBtn\":\"MovieDetailsPage_IconBtn__1R33v\"};","export default __webpack_public_path__ + \"static/media/noImg.a227329d.jpg\";","import PropTypes from 'prop-types';\n\nimport noImage from '../../../images/noImg.jpg';\n\nimport styles from './MovieMainInfo.module.scss';\n\nexport default function MovieMainInfo({ movie }) {\n  const titleMovie =\n    movie.title === '' || !movie.title ? movie.original_title : movie.title;\n  return (\n    <>\n      <div className={styles.MovieMainInfo}>\n        <div>\n          <img\n            src={\n              movie.poster_path\n                ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n                : noImage\n            }\n            alt={titleMovie}\n            className={styles.ImageURL}\n            // width={300}\n            // height={450}\n          />\n        </div>\n        <div className={styles.MovieContent}>\n          <h2 className={styles.MovieTitle}>\n            {titleMovie}\n            {movie.release_date && (\n              <span> ({movie.release_date.slice(0, 4)})</span>\n            )}\n          </h2>\n          <p className={styles.MovieScore}>\n            User Score: {movie.popularity.toFixed(2)}%\n          </p>\n\n          {movie.overview && (\n            <>\n              <h3 className={styles.MovieTitleName}>Overview</h3>\n              <p className={styles.MovieOverview}>{movie.overview}</p>\n            </>\n          )}\n\n          {movie.genres.length > 0 && (\n            <>\n              <h3 className={styles.MovieTitleName}>Genres</h3>\n              <ul className={styles.MovieGenreList}>\n                {movie.genres.map(genre => (\n                  <li key={genre.id} className={styles.MovieGenreItem}>\n                    {genre.name}\n                  </li>\n                ))}\n              </ul>\n            </>\n          )}\n        </div>\n      </div>\n      <hr className={styles.Line} />\n    </>\n  );\n}\n\nMovieMainInfo.defaultProps = {\n  title: '',\n  original_title: '',\n  poster_path: noImage,\n  overview: '',\n  genres: [],\n  popularity: 0,\n  release_date: 'no release date',\n};\n\nMovieMainInfo.propTypes = {\n  title: PropTypes.string,\n  original_title: PropTypes.string,\n  // id: PropTypes.number.isRequired,\n  overview: PropTypes.string,\n  poster_path: PropTypes.string,\n  release_date: PropTypes.string,\n  genres: PropTypes.array,\n  popularity: PropTypes.number,\n};\n","import { lazy, Suspense } from 'react';\n\nimport { NavLink, useRouteMatch, Route, useLocation } from 'react-router-dom';\n\nimport LoaderSpinner from '../../LoaderSpinner';\n\nimport styles from './MovieAddInfo.module.scss';\n\nconst CastView = lazy(() =>\n  import('../../../views/CastView.js' /* webpackChunkName: \"cast-view\" */),\n);\n\nconst ReviewsView = lazy(() =>\n  import('../../../views/ReviewsView' /* webpackChunkName: \"reviews-view\" */),\n);\n\nexport default function MovieAddInfo() {\n  const { url, path } = useRouteMatch();\n  const location = useLocation();\n\n  return (\n    <div className={styles.MovieAddInfo}>\n      <p className={styles.AddInfo}>Additional Information</p>\n      <ul className={styles.InfoList}>\n        <li>\n          <NavLink\n            to={{\n              pathname: `${url}/cast`,\n              state: {\n                from: location.state ? location.state.from : '/',\n              },\n            }}\n            className={styles.link}\n            activeClassName={styles.activeLink}\n          >\n            Cast\n          </NavLink>\n        </li>\n        <li>\n          <NavLink\n            to={{\n              pathname: `${url}/reviews`,\n              state: {\n                from: location.state ? location.state.from : '/',\n              },\n            }}\n            className={styles.link}\n            activeClassName={styles.activeLink}\n          >\n            Reviews\n          </NavLink>\n        </li>\n      </ul>\n\n      <hr className={styles.Line} />\n\n      <Suspense fallback={<LoaderSpinner />}>\n        <Route\n          path={`${path}/cast`}\n          // path=\"/movies/:movieId/cast\"\n        >\n          <CastView />\n        </Route>\n\n        <Route path={`${path}/reviews`}>\n          <ReviewsView />\n        </Route>\n      </Suspense>\n    </div>\n  );\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport styles from './ButtonIcon.module.scss';\n\nconst ButtonIcon = ({ type, onClick, children, ...allyProps }) => (\n  <button\n    type={type}\n    onClick={onClick}\n    className={styles.ButtonIcon}\n    {...allyProps}\n  >\n    {children}\n  </button>\n);\n\nButtonIcon.defaultProps = {\n  onClick: () => null,\n  children: null,\n  type: 'button',\n};\n\nButtonIcon.propTypes = {\n  onClick: PropTypes.func,\n  type: PropTypes.string,\n  children: PropTypes.node,\n  'aria-label': PropTypes.string.isRequired,\n};\n\nexport default ButtonIcon;\n","import { useState, useEffect } from 'react';\nimport { useParams, useHistory, useLocation } from 'react-router-dom';\nimport moviesAPI from '../../api/movies-api';\n\nimport MovieMainInfo from './MovieMainInfo';\nimport MovieAddInfo from './MovieAddInfo';\nimport ButtonIcon from '../ButtonIcon';\nimport { HiArrowLeft } from 'react-icons/hi';\nimport LoaderSpinner from '../LoaderSpinner';\nimport Error from '../Error';\n\nimport styles from './MovieDetailsPage.module.scss';\n\nexport default function MovieDetailsPage() {\n  const history = useHistory();\n  const location = useLocation();\n\n  const { movieId } = useParams();\n\n  const [movie, setMovie] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setLoading(true);\n    moviesAPI\n      .fetchMovieById(movieId)\n      .then(movie => {\n        setMovie(movie);\n        setLoading(false);\n      })\n      .catch(error => {\n        console.log(error);\n        setError('Whoops, something went wrong. Enter your request again');\n        setLoading(false);\n      });\n  }, [movieId]);\n\n  const onGoBack = () => {\n    history.push(location?.state?.from ?? '/');\n  };\n\n  return (\n    <>\n      {error && <Error errorContent={error} />}\n      {loading && <LoaderSpinner />}\n      <ButtonIcon onClick={onGoBack} aria-label=\"Go back\">\n        <HiArrowLeft />\n        <span className={styles.IconBtn}>Go back</span>\n      </ButtonIcon>\n\n      {movie && (\n        <>\n          <MovieMainInfo movie={movie} />\n          <MovieAddInfo />\n        </>\n      )}\n    </>\n  );\n}\n","import MovieDetailsPage from '../components/MovieDetailsPage';\n\nexport default function MovieDetailsView() {\n  return (\n    <>\n      <MovieDetailsPage />\n    </>\n  );\n}\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'd0babcf2df0d52b515db9698a0e458bb';\n\nconst fetchSearchMovies = async (searchQuery, page) => {\n  const urlSearchMovies = `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=${page}&query=${searchQuery}`;\n\n  try {\n    const { data } = await axios.get(urlSearchMovies);\n    // console.log(data.results);\n    return data.results;\n  } catch (error) {\n    return [];\n  }\n};\n\nconst fetchTrendingMovies = async page => {\n  const urlTrendingMovies = `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&language=en-US&page=${page}`;\n\n  try {\n    const { data } = await axios.get(urlTrendingMovies);\n    // console.log(data.results);\n    return data.results;\n  } catch (error) {\n    return null;\n  }\n};\n\nconst fetchMovieById = async movie_id => {\n  const urlMovieById = `${BASE_URL}/movie/${movie_id}?api_key=${API_KEY}&language=en-US`;\n  try {\n    const { data } = await axios.get(urlMovieById);\n    // console.log(data);\n    return data;\n  } catch (error) {\n    return null;\n  }\n};\n\nconst fetchCastMovie = async movie_id => {\n  const urlCastMovie = `${BASE_URL}/movie/${movie_id}/credits?api_key=${API_KEY}&language=en-US`;\n  try {\n    const { data } = await axios.get(urlCastMovie);\n    // console.log(data.cast);\n    return data.cast;\n  } catch (error) {\n    return null;\n  }\n};\n\nconst fetchReviewMovie = async movie_id => {\n  const urlReviewMovie = `${BASE_URL}/movie/${movie_id}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n\n  try {\n    const { data } = await axios.get(urlReviewMovie);\n    // console.log(data.results);\n    return data.results;\n  } catch (error) {\n    return null;\n  }\n};\n\nconst moviesAPI = {\n  fetchSearchMovies,\n  fetchTrendingMovies,\n  fetchMovieById,\n  fetchCastMovie,\n  fetchReviewMovie,\n};\n\nexport default moviesAPI;\n","import PropTypes from 'prop-types';\nimport styles from './Error.module.scss';\n\nconst Error = ({ errorContent }) => {\n  return (\n    <div role=\"alert\" className={styles.Error}>\n      <p text={errorContent} className={styles.ErrorContent}>\n        {errorContent}\n      </p>\n    </div>\n  );\n};\n\nError.propTypes = {\n  errorContent: PropTypes.string.isRequired,\n};\n\nexport default Error;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__zscxp\",\"ErrorContent\":\"Error_ErrorContent__2fFjr\"};"],"sourceRoot":""}