(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{122:function(t,e,n){t.exports={SearchForm:"Searchbar_SearchForm__10JQA",SearchFormButton:"Searchbar_SearchFormButton__2Foje",SearchFormInput:"Searchbar_SearchFormInput__3ObGx"}},137:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return S}));var r=n(83),a=n(65),c=n.n(a),o=n(80),u=n(66),i=n(64),s=n(1),l=n(62),p=n(4),f=n(95),v=n(122),b=n.n(v),h=n(2),j=function(t){var e=t.handleSubmit,n=Object(s.useState)(""),r=Object(i.a)(n,2),a=r[0],c=r[1];return Object(h.jsxs)("form",{className:b.a.SearchForm,onSubmit:function(t){if(t.preventDefault(),""===a.trim())return f.c.warn("Enter the movie title",{position:"top-left",transition:f.b,style:{top:90,left:0,textAlign:"center",width:200,margin:"0 auto"}});e(a),c("")},children:[Object(h.jsx)("input",{className:b.a.SearchFormInput,type:"text",value:a,onChange:function(t){var e=t.target.value;c(e.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),Object(h.jsx)("button",{className:b.a.SearchFormButton,type:"submit","aria-label":"Search movies",children:"Search"})]})},m=n(81),d=n(82),O=n(16),g=n(61),x=n(75);n(123);function _(){var t=Object(p.f)(),e=Object(p.g)(),n=Object(s.useState)([]),a=Object(i.a)(n,2),v=a[0],b=a[1],_=Object(s.useState)([]),S=Object(i.a)(_,2),w=S[0],M=S[1],y=Object(s.useState)(""),k=Object(i.a)(y,2),L=k[0],F=k[1],B=Object(s.useState)(1),E=Object(i.a)(B,2),C=E[0],I=E[1],N=Object(s.useState)(!1),U=Object(i.a)(N,2),J=U[0],P=U[1],q=Object(s.useState)(null),T=Object(i.a)(q,2),z=T[0],A=T[1];Object(s.useEffect)((function(){if(""!==e.search){var t=new URLSearchParams(e.search).get("movie");F(t)}}),[e.search]),Object(s.useEffect)((function(){L&&function(){var t=Object(u.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,P(!0),t.next=4,l.a.fetchSearchMovies(L,C);case 4:e=t.sent,M(e),b((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e))})),P(!1),0===e.length&&A('There are no movies on your request "'.concat(L,'"')),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),A("Whoops, something went wrong. Enter your request again");case 14:return t.prev=14,P(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})));return function(){return t.apply(this,arguments)}}()()}),[L,C]);var R=function(){b([]),I(1),A(null),M([])};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j,{handleSubmit:function(n){F(n),R(),t.push(Object(r.a)(Object(r.a)({},e),{},{search:"movie=".concat(n)}))}}),z&&Object(h.jsx)(g.a,{errorContent:z}),J&&Object(h.jsx)(O.a,{}),v.length>0&&!z&&Object(h.jsx)(m.a,{movies:v}),w.length>19&&!J&&!z&&Object(h.jsx)(d.a,{contentBtn:"Load More",onLoadMore:function(){I((function(t){return t+1})),x.animateScroll.scrollToBottom()}}),w.length<19&&w.length>0&&!J&&!z&&Object(h.jsx)(d.a,{disabled:!0,contentBtn:"End"}),Object(h.jsx)(f.a,{autoClose:3e3})]})}function S(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(_,{})})}},61:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(63),a=n.n(r),c=n(2),o=function(t){var e=t.errorContent;return Object(c.jsx)("div",{role:"alert",className:a.a.Error,children:Object(c.jsx)("p",{text:e,className:a.a.ErrorContent,children:e})})}},62:function(t,e,n){"use strict";var r=n(65),a=n.n(r),c=n(66),o=n(71),u=n.n(o),i="https://api.themoviedb.org/3",s="d0babcf2df0d52b515db9698a0e458bb",l={fetchSearchMovies:function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(i,"/search/movie?api_key=").concat(s,"&language=en-US&page=").concat(n,"&query=").concat(e),t.prev=1,t.next=4,u.a.get(r);case 4:return c=t.sent,o=c.data,t.abrupt("return",o.results);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}(),fetchTrendingMovies:function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(i,"/trending/movie/day?api_key=").concat(s,"&language=en-US&page=").concat(e),t.prev=1,t.next=4,u.a.get(n);case 4:return r=t.sent,c=r.data,t.abrupt("return",c.results);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),fetchMovieById:function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(i,"/movie/").concat(e,"?api_key=").concat(s,"&language=en-US"),t.prev=1,t.next=4,u.a.get(n);case 4:return r=t.sent,c=r.data,t.abrupt("return",c);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),fetchCastMovie:function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(s,"&language=en-US"),t.prev=1,t.next=4,u.a.get(n);case 4:return r=t.sent,c=r.data,t.abrupt("return",c.cast);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),fetchReviewMovie:function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(s,"&language=en-US&page=1"),t.prev=1,t.next=4,u.a.get(n);case 4:return r=t.sent,c=r.data,t.abrupt("return",c.results);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()};e.a=l},63:function(t,e,n){t.exports={Error:"Error_Error__zscxp",ErrorContent:"Error_ErrorContent__2fFjr"}},72:function(t,e,n){t.exports={MovieListItem:"MovieListItem_MovieListItem__3UxJ6",MovieLink:"MovieListItem_MovieLink__aPKO5"}},73:function(t,e,n){t.exports={MoviesList:"MoviesList_MoviesList__2Bmda"}},74:function(t,e,n){t.exports={Button:"Button_Button__z2W-M"}},81:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));n(1);var r=n(4),a=n(11),c=n(72),o=n.n(c),u=n(2);function i(t){var e=t.id,n=t.title,c=t.original_title,i=Object(r.g)(),s=""!==n&&n?n:c;return Object(u.jsx)("li",{className:o.a.MovieListItem,children:Object(u.jsx)(a.b,{className:o.a.MovieLink,to:{pathname:"/movies/".concat(e),state:{from:i}},children:s})})}i.defaultProps={title:"",original_title:""};var s=n(73),l=n.n(s);function p(t){var e=t.movies;return Object(u.jsx)("ul",{className:l.a.MoviesList,children:e.map((function(t){var e=t.id,n=t.original_title,r=t.title;return Object(u.jsx)(i,{id:e,title:r,original_title:n},e)}))})}},82:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(1);var r=n(74),a=n.n(r),c=n(2),o=function(t){var e=t.onLoadMore,n=t.contentBtn,r=t.disabled;return Object(c.jsx)("button",{disabled:r,onClick:e,className:a.a.Button,children:n})};o.defaultProps={onLoadMore:function(){return null},disabled:!1};var u=o}}]);
//# sourceMappingURL=movies-view.042fa656.chunk.js.map